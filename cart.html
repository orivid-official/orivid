<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keranjang belanja Anda di ORIVID. Lanjutkan belanja atau selesaikan pesanan Anda.">
    <title data-i18n="cart-title">ORIVID - Keranjang Belanja</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome untuk ikon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Google Fonts - Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f7f5f2; /* Warna latar belakang umum */
        }
    </style>
</head>
<body class="bg-[#f7f5f2] text-[#333] antialiased">

    <!-- Header -->
    <header class="bg-[#1A232E] text-white p-4 md:px-8 flex flex-col md:flex-row items-center justify-between">
        <div class="flex items-center w-full md:w-auto">
            <a href="index.html" class="text-2xl font-bold mr-4">ORIVID</a>
            <div class="relative flex-grow md:flex-grow-0 md:w-80">
                <input type="text" data-i18n-placeholder="search-placeholder" placeholder="Cari di Orivid..." class="w-full pl-4 pr-10 py-2 rounded-md border border-gray-300 text-sm text-black focus:outline-none focus:ring-2 focus:ring-[#CBA135] transition-all">
                <button class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-[#CBA135]">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
        <div class="mt-4 md:mt-0 flex flex-wrap items-center justify-center md:justify-end gap-x-6 gap-y-2 text-sm">
            <a href="#" data-i18n="notifications" class="flex items-center hover:text-[#CBA135] transition-colors"><i class="fas fa-bell mr-1"></i>Notifikasi</a>
            <a href="https://wa.me/628155555579" target="_blank" data-i18n="help" class="flex items-center hover:text-[#CBA135] transition-colors"><i class="far fa-question-circle mr-1"></i>Bantuan</a>
            <select class="bg-gray-200 text-gray-900 border border-gray-400 rounded-md p-1 text-sm focus:outline-none focus:ring-2 focus:ring-[#CBA135] cursor-pointer" id="lang-select">
                <option value="id" selected data-i18n="lang-id" class="bg-white text-gray-900">Indonesia</option>
                <option value="en" data-i18n="lang-en" class="bg-white text-gray-900">English</option>
            </select>
            <a href="https://orivid-official.github.io/orivid/daftar.html" data-i18n="register" class="hover:text-[#CBA135] transition-colors">Daftar</a>
            <a href="https://orivid-official.github.io/orivid/login.html" data-i18n="login" class="hover:text-[#CBA135] transition-colors">Log In</a>
            <a href="cart.html" class="hover:text-[#CBA135] transition-colors"><i class="fas fa-shopping-bag text-lg"></i></a>
        </div>
    </header>

    <!-- Navigasi -->
    <nav class="bg-black text-white border-b border-gray-700">
        <ul class="flex flex-wrap justify-center gap-x-6 md:gap-x-10 py-3 font-semibold text-sm md:text-base">
            <li><a href="index.html" class="py-2 hover:text-[#CBA135] border-b-2 border-transparent hover:border-[#CBA135] transition-colors"><i class="fas fa-home"></i></a></li>
            <!-- Tautan navbar yang sudah diperbaiki -->
            <li><a href="index.html?category=tshirt" data-i18n="tshirt" class="py-2 hover:text-[#CBA135] border-b-2 border-transparent hover:border-[#CBA135] transition-colors">T-Shirt</a></li>
            <li><a href="index.html?category=polo" data-i18n="polo" class="py-2 hover:text-[#CBA135] border-b-2 border-transparent hover:border-[#CBA135] transition-colors">Polo</a></li>
            <li><a href="index.html?category=hoodie" data-i18n="hoodie" class="py-2 hover:text-[#CBA135] border-b-2 border-transparent hover:border-[#CBA135] transition-colors">Hoodie</a></li>
            <li><a href="index.html?category=jacket" data-i18n="jacket" class="py-2 hover:text-[#CBA135] border-b-2 border-transparent hover:border-[#CBA135] transition-colors">Jacket</a></li>
            <li><a href="index.html?category=pants" data-i18n="pants" class="py-2 hover:text-[#CBA135] border-b-2 border-transparent hover:border-[#CBA135] transition-colors">Celana</a></li>
            <li><a href="index.html?category=accessories" data-i18n="accessories" class="py-2 hover:text-[#CBA135] border-b-2 border-transparent hover:border-[#CBA135] transition-colors">Aksesoris</a></li>
        </ul>
    </nav>
    
    <main class="container mx-auto p-4 md:p-8">
        <div class="flex flex-col md:flex-row items-start justify-between">
            <h1 class="text-3xl font-bold mb-4 md:mb-0" data-i18n="your-cart">Keranjang Anda</h1>
            <a href="index.html" class="text-sm text-gray-600 hover:underline" data-i18n="continue-shopping">Lanjutkan belanja</a>
        </div>

        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Kolom Produk Keranjang -->
            <div class="md:col-span-2 bg-white rounded-lg shadow-md p-6" id="cart-items-container">
                <!-- Header Kolom -->
                <div class="hidden md:grid grid-cols-6 text-xs font-semibold uppercase text-gray-500 mb-4 pb-2 border-b">
                    <div class="col-span-3" data-i18n="product-heading">Produk</div>
                    <div class="col-span-1 text-center" data-i18n="quantity-heading">Jumlah</div>
                    <div class="col-span-2 text-right" data-i18n="total-heading">Total</div>
                </div>

                <!-- Item Produk -->
                <div class="cart-item flex flex-col md:flex-row items-center md:items-start md:space-x-4 mb-4 pb-4 border-b" data-price="130000">
                    <div class="w-full md:w-3/6 flex items-center mb-4 md:mb-0">
                        <img src="https://placehold.co/100x100/cccccc/000000?text=T-Shirt" alt="Human Greatness Otter OS T-Shirt" class="w-24 h-24 object-cover rounded-md mr-4">
                        <div class="flex-1">
                            <p class="font-semibold" data-i18n="product-name-1">Human Greatness Otter OS T-Shirt White HGBasic</p>
                            <p class="text-sm text-gray-500 product-price" data-i18n="product-price-1">Rp130.000</p>
                            <p class="text-xs text-gray-400" data-i18n="product-size-1">Size: S</p>
                        </div>
                    </div>
                    <div class="w-full md:w-1/6 flex justify-center items-center my-2 md:my-0">
                        <div class="flex items-center border border-gray-300 rounded-full px-2 py-1">
                            <button class="px-2 text-gray-600 hover:text-black focus:outline-none" onclick="updateQuantity(this, -1)">-</button>
                            <span class="w-6 text-center" data-quantity>1</span>
                            <button class="px-2 text-gray-600 hover:text-black focus:outline-none" onclick="updateQuantity(this, 1)">+</button>
                        </div>
                        <button class="ml-4 text-gray-500 hover:text-red-500" onclick="removeItem(this)"><i class="fas fa-trash"></i></button>
                    </div>
                    <div class="w-full md:w-2/6 text-right md:pr-4">
                        <p class="font-bold product-total-price" data-i18n="product-total-1">Rp130.000</p>
                    </div>
                </div>
                
                <!-- Contoh Item Produk Lain -->
                <div class="cart-item flex flex-col md:flex-row items-center md:items-start md:space-x-4 mb-4 pb-4 border-b" data-price="250000">
                    <div class="w-full md:w-3/6 flex items-center mb-4 md:mb-0">
                        <img src="https://placehold.co/100x100/cccccc/000000?text=Hoodie" alt="ORIVID Gold Hoodie" class="w-24 h-24 object-cover rounded-md mr-4">
                        <div class="flex-1">
                            <p class="font-semibold">ORIVID Gold Logo Hoodie</p>
                            <p class="text-sm text-gray-500 product-price">Rp250.000</p>
                            <p class="text-xs text-gray-400">Size: M</p>
                        </div>
                    </div>
                    <div class="w-full md:w-1/6 flex justify-center items-center my-2 md:my-0">
                        <div class="flex items-center border border-gray-300 rounded-full px-2 py-1">
                            <button class="px-2 text-gray-600 hover:text-black focus:outline-none" onclick="updateQuantity(this, -1)">-</button>
                            <span class="w-6 text-center" data-quantity>1</span>
                            <button class="px-2 text-gray-600 hover:text-black focus:outline-none" onclick="updateQuantity(this, 1)">+</button>
                        </div>
                        <button class="ml-4 text-gray-500 hover:text-red-500" onclick="removeItem(this)"><i class="fas fa-trash"></i></button>
                    </div>
                    <div class="w-full md:w-2/6 text-right md:pr-4">
                        <p class="font-bold product-total-price">Rp250.000</p>
                    </div>
                </div>

            </div>

            <!-- Kolom Ringkasan Belanja -->
            <div class="bg-white rounded-lg shadow-md p-6 h-fit sticky top-4">
                <h3 class="text-lg font-bold mb-4" data-i18n="summary-heading">Ringkasan Belanja</h3>
                <div class="flex justify-between mb-2">
                    <span data-i18n="estimated-total">Total Estimasi</span>
                    <span class="font-semibold" id="estimated-total-price">Rp380.000 IDR</span>
                </div>
                <p class="text-xs text-gray-500 mb-4" data-i18n="taxes-shipping">Pajak, diskon, dan pengiriman dihitung saat checkout</p>
                <button class="w-full bg-[#1A232E] text-white text-sm font-semibold py-3 rounded-lg hover:bg-[#CBA135] hover:text-black transition-colors duration-300">
                    <span class="inline-block mr-2">
                        <img src="https://placehold.co/20x20/fff/000?text=iFLIK" alt="iFLIK Logo" class="w-5 h-5 inline-block">
                    </span>
                    <span data-i18n="checkout-button">Check out</span>
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#1A232E] text-white text-center py-8 mt-10">
        <p data-i18n="find-us-on-marketplace" class="text-sm">Temukan kami di marketplace favorit Anda</p>
        <div class="flex justify-center items-center gap-8 mt-5">
            <a href="#" aria-label="Shopee"><img src="https://placehold.co/100x40/fff/000?text=Shopee" alt="Logo Shopee" class="h-8"></a>
            <a href="#" aria-label="Tokopedia"><img src="https://placehold.co/100x40/fff/000?text=Tokopedia" alt="Logo Tokopedia" class="h-8"></a>
            <a href="#" aria-label="TikTok Shop"><img src="https://placehold.co/100x40/fff/000?text=TikTok+Shop" alt="Logo TikTok Shop" class="h-8"></a>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Objek terjemahan untuk halaman keranjang
            const translations = {
                'id': {
                    'cart-title': 'ORIVID - Keranjang Belanja',
                    'search-placeholder': 'Cari di Orivid...',
                    'notifications': 'Notifikasi',
                    'help': 'Bantuan',
                    'register': 'Daftar',
                    'login': 'Log In',
                    'lang-id': 'Indonesia',
                    'lang-en': 'English',
                    'tshirt': 'T-Shirt',
                    'polo': 'Polo',
                    'hoodie': 'Hoodie',
                    'jacket': 'Jacket',
                    'pants': 'Celana',
                    'accessories': 'Aksesoris',
                    'your-cart': 'Keranjang Anda',
                    'continue-shopping': 'Lanjutkan belanja',
                    'product-heading': 'Produk',
                    'quantity-heading': 'Jumlah',
                    'total-heading': 'Total',
                    'estimated-total': 'Total Estimasi',
                    'taxes-shipping': 'Pajak, diskon, dan pengiriman dihitung saat checkout',
                    'checkout-button': 'Check out',
                    'product-name-1': 'Human Greatness Otter OS T-Shirt White HGBasic',
                    'product-price-1': 'Rp130.000',
                    'product-size-1': 'Size: S',
                    'find-us-on-marketplace': 'Temukan kami di marketplace favorit Anda',
                    'empty-cart-message': 'Keranjang Anda kosong. Yuk, temukan produk favorit Anda!',
                    'summary-heading': 'Ringkasan Belanja'
                },
                'en': {
                    'cart-title': 'ORIVID - Shopping Cart',
                    'search-placeholder': 'Search on Orivid...',
                    'notifications': 'Notifications',
                    'help': 'Help',
                    'register': 'Register',
                    'login': 'Log In',
                    'lang-id': 'Indonesia',
                    'lang-en': 'English',
                    'tshirt': 'T-Shirt',
                    'polo': 'Polo',
                    'hoodie': 'Hoodie',
                    'jacket': 'Jacket',
                    'pants': 'Pants',
                    'accessories': 'Accessories',
                    'your-cart': 'Your cart',
                    'continue-shopping': 'Continue shopping',
                    'product-heading': 'Product',
                    'quantity-heading': 'Quantity',
                    'total-heading': 'Total',
                    'estimated-total': 'Estimated total',
                    'taxes-shipping': 'Taxes, discounts and shipping calculated at checkout',
                    'checkout-button': 'Check out',
                    'product-name-1': 'Human Greatness Otter OS T-Shirt White HGBasic',
                    'product-price-1': 'Rp130,000',
                    'product-size-1': 'Size: S',
                    'find-us-on-marketplace': 'Find us on your favorite marketplace',
                    'empty-cart-message': 'Your cart is empty. Find your favorite products!',
                    'summary-heading': 'Shopping Summary'
                }
            };

            const langSelect = document.getElementById('lang-select');

            // Fungsi untuk mengupdate bahasa di seluruh halaman
            function updateLanguage(lang) {
                document.documentElement.lang = lang;
                const elementsToTranslate = document.querySelectorAll('[data-i18n]');
                elementsToTranslate.forEach(element => {
                    const key = element.getAttribute('data-i18n');
                    if (translations[lang] && translations[lang][key]) {
                        element.textContent = translations[lang][key];
                    }
                });
                const elementsToTranslatePlaceholder = document.querySelectorAll('[data-i18n-placeholder]');
                elementsToTranslatePlaceholder.forEach(element => {
                    const key = element.getAttribute('data-i18n-placeholder');
                    if (translations[lang] && translations[lang][key]) {
                        element.placeholder = translations[lang][key];
                    }
                });
                updateCartTotal(); // Update total after language change
            }

            // Event listener untuk perubahan dropdown bahasa
            langSelect.addEventListener('change', (event) => {
                const selectedLang = event.target.value;
                updateLanguage(selectedLang);
            });
            
            // Set bahasa awal saat halaman dimuat
            const initialLang = langSelect.value;
            updateLanguage(initialLang);

            // Fungsi untuk format angka sebagai mata uang Rupiah tanpa desimal
            function formatRupiah(number) {
                const formatter = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0
                });
                return formatter.format(number).replace(/IDR/, 'Rp');
            }

            // Fungsi untuk memperbarui total produk
            window.updateQuantity = function(button, delta) {
                const itemContainer = button.closest('.cart-item');
                if (!itemContainer) return;

                const quantitySpan = itemContainer.querySelector('[data-quantity]');
                let quantity = parseInt(quantitySpan.textContent, 10);
                quantity = quantity + delta;
                
                if (quantity < 1) {
                    quantity = 1; // Mencegah jumlah kurang dari 1
                }
                
                quantitySpan.textContent = quantity;
                
                // Ambil harga dasar dari data attribute
                const price = parseFloat(itemContainer.getAttribute('data-price'));
                const newTotal = price * quantity;
                
                const totalElement = itemContainer.querySelector('.product-total-price');
                totalElement.textContent = formatRupiah(newTotal);
                
                updateCartTotal();
            };

            // Fungsi untuk menghapus produk dari keranjang
            window.removeItem = function(button) {
                const itemContainer = button.closest('.cart-item');
                if (itemContainer) {
                    itemContainer.remove();
                    updateCartTotal();
                }
            };
            
            // Fungsi untuk memperbarui total estimasi
            function updateCartTotal() {
                const cartItems = document.querySelectorAll('.cart-item');
                let grandTotal = 0;
                
                cartItems.forEach(item => {
                    const price = parseFloat(item.getAttribute('data-price'));
                    const quantity = parseInt(item.querySelector('[data-quantity]').textContent, 10);
                    grandTotal += price * quantity;
                });
                
                const totalElement = document.getElementById('estimated-total-price');
                if (totalElement) {
                    totalElement.textContent = `${formatRupiah(grandTotal)} IDR`;
                }

                // Tambahkan pesan jika keranjang kosong
                const cartContainer = document.getElementById('cart-items-container');
                const emptyMessage = cartContainer.querySelector('.empty-cart-message');
                if (cartItems.length === 0) {
                    if (!emptyMessage) {
                        const messageDiv = document.createElement('div');
                        messageDiv.className = 'empty-cart-message text-center text-gray-500 py-8';
                        messageDiv.setAttribute('data-i18n', 'empty-cart-message');
                        messageDiv.textContent = translations[langSelect.value]['empty-cart-message'];
                        cartContainer.appendChild(messageDiv);
                    }
                } else {
                    if (emptyMessage) {
                        emptyMessage.remove();
                    }
                }
            }

            // Panggil fungsi updateCartTotal saat halaman pertama kali dimuat
            updateCartTotal();
        });
    </script>
</body>
</html>
